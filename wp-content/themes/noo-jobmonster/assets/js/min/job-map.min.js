var infoBox;!function(B){"use strict";var J=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"all",stylers:[{lightness:"-1"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative.country",elementType:"all",stylers:[{lightness:"20"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:nooJobGmapL10n.primary_color}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{lightness:"20"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{lightness:"0"},{color:nooJobGmapL10n.primary_color},{saturation:"9"},{visibility:"simplified"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#3e3e3e"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:nooJobGmapL10n.primary_color},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"all",stylers:[{visibility:"simplified"},{lightness:"-62"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#13232a"},{lightness:17}]}],G=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"on"},{color:"#bcd9c3"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"},{weight:"0.28"}]},{featureType:"transit.station",elementType:"labels.text",stylers:[{color:"#555555"}]},{featureType:"transit.station",elementType:"labels.icon",stylers:[{saturation:"-66"}]},{featureType:"transit.station.rail",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"all",stylers:[{color:"#d5def2"},{visibility:"on"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:nooJobGmapL10n.primary_color}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"simplified"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{color:nooJobGmapL10n.primary_color},{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{lightness:"0"},{color:nooJobGmapL10n.primary_color},{saturation:"9"},{visibility:"simplified"}]}],C=[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],F=[{featureType:"landscape",stylers:[{hue:"#FFA800"},{saturation:0},{lightness:0},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#53FF00"},{saturation:-73},{lightness:40},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FBFF00"},{saturation:0},{lightness:0},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#00FFFD"},{saturation:0},{lightness:30},{gamma:1}]},{featureType:"water",stylers:[{hue:"#00BFFF"},{saturation:6},{lightness:8},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#679714"},{saturation:33.4},{lightness:-25.4},{gamma:1}]}];google.maps.event.addDomListener(window,"load",function(){var e=B(".noo-job-map"),t=e.find("#gmap"),a=t.attr("data-latitude")?t.attr("data-latitude"):nooJobGmapL10n.latitude,o=t.attr("data-longitude")?t.attr("data-longitude"):nooJobGmapL10n.longitude,l=t.attr("data-zoom")?t.attr("data-zoom"):nooJobGmapL10n.zoom,r=!t.attr("data-fit_bounds")||"yes"==t.attr("data-fit_bounds"),s=new google.maps.LatLng(parseFloat(a),parseFloat(o)),i=t.attr("data-map_style")?t.attr("data-map_style"):"",n=J;switch(i){case"none":n=[];break;case"light":n=G;break;case"apple":n=C;break;case"nature":n=F}var y={flat:!1,noClear:!1,zoom:parseInt(l),scrollwheel:!1,streetViewControl:!1,disableDefaultUI:!1,scaleControl:!1,navigationControl:!1,mapTypeControl:!1,maxZoom:parseInt(l),center:s,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:n},p=[],m=new google.maps.Map(t.get(0),y);google.maps.visualRefresh=!0,google.maps.event.addListener(m,"tilesloaded",function(){e.find(".gmap-loading").hide()});var f=new google.maps.places.Autocomplete(B("#map-location-search")[0]);f.bindTo("bounds",m),google.maps.event.addListener(f,"place_changed",function(){var e=f.getPlace();e.geometry&&(e.geometry.viewport?m.fitBounds(e.geometry.viewport):m.setCenter(e.geometry.location))});var c={content:document.createElement("div"),disableAutoPan:!0,maxWidth:500,boxClass:"myinfobox",zIndex:null,closeBoxMargin:"-13px 0px 0px 0px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1};infoBox=new InfoBox(c);var g=B.parseJSON(nooJobGmapL10n.marker_company_data);if(g.length){for(var u=new google.maps.LatLngBounds,d=0;d<g.length;d++){var T=g[d],b=new google.maps.LatLng(T.latitude,T.longitude),v=new google.maps.Marker({position:b,map:m,post:T.post_type,title:T.title,image:T.image,company:T.company,company_url:T.company_url,total_job:T.total_job,slogan:T.slogan,icon:nooJobGmapL10n.theme_uri+"/assets/images/map-marker-icon.png"});p.push(v),u.extend(v.getPosition()),google.maps.event.addListener(v,"click",function(e){var t,a;a='<div class="gmap-infobox"><a class="info-close" onclick="return infoBox.close();" href="javascript:void(0)">x</a>\t\t\t\t<div class="loop-item-wrap"> \t\t\t\t\t<div class="item-featured"><a href="'+(t=this).company_url+'">'+t.image+'</a></div> \t\t\t\t\t<div class="loop-item-content"> \t\t\t\t\t \t<h4 class="loop-item-title"><a href="'+t.url+'">'+t.title+"</a></h4>",""!==t.company_url&&(a+='<p class="content-meta">',""!==t.slogan&&(a+='<span class="job-company"> '+t.slogan+"</span>"),0<t.total_job&&(a+='<strong> Total Jobs: </strong><span class="total-job">'+t.total_job+"</span> "),a+="</p>"),a+="</div></div>",infoBox.setContent(a),infoBox.open(m,t),m.setCenter(t.position),m.panBy(50,-120)})}0<p.length&&r&&m.fitBounds(u)}var h=B.parseJSON(nooJobGmapL10n.marker_data);if(h.length){var _=new google.maps.LatLngBounds;for(d=0;d<h.length;d++){var x=h[d],w=new google.maps.LatLng(x.latitude,x.longitude),L=new google.maps.Marker({position:w,map:m,post:x.post_type,title:x.title,url:x.url,image:x.image,type:x.type,type_url:x.type_url,type_color:x.type_color,company:x.company,company_url:x.company_url,term_url:x.term_url,icon:nooJobGmapL10n.theme_uri+"/assets/images/map-marker.png"});p.push(L),_.extend(L.getPosition()),google.maps.event.addListener(L,"click",function(e){var t,a;a='<div class="gmap-infobox"><a class="info-close" onclick="return infoBox.close();" href="javascript:void(0)">x</a>\t\t\t\t<div class="loop-item-wrap"> \t\t\t\t\t<div class="item-featured"><a href="'+(t=this).url+'">'+t.image+'</a></div> \t\t\t\t\t<div class="loop-item-content"> \t\t\t\t\t \t<h4 class="loop-item-title"><a href="'+t.url+'">'+t.title+"</a></h4>",""==t.company_url&&""==t.type||(a+='<p class="content-meta">',""!=t.company_url&&(a+='<span class="job-company"> <a href="'+t.company_url+'">'+t.company+"</a></span>"),""!=t.type&&(a+='<span class="job-type"> <a href="'+t.type_url+'" style="color: '+t.type_color+'"><i class="fa fa-bookmark"></i>'+t.type+"</a></span>"),a+="</p>"),a+="</div></div>",infoBox.setContent(a),infoBox.open(m,t),m.setCenter(t.position),m.panBy(50,-120)})}0<p.length&&r&&m.fitBounds(_)}var k=[{textColor:"#ffffff",opt_textColor:"#ffffff",url:nooJobGmapL10n.theme_uri+"/assets/images/cloud.png",height:72,width:72,textSize:15}];new MarkerClusterer(m,p,{gridSize:50,ignoreHidden:!0,styles:k}).setIgnoreHidden(!0)})}(jQuery);