!function(p){"use strict";p(document).ready(function(){p('[data-paginate="loadmore"]').find(".loadmore-action").length&&p('[data-paginate="loadmore"]').each(function(){var e=p(this);e.nooLoadmore({navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:"article.loadmore-item",finishedMsg:nooJobL10n.ajax_finishedMsg})}),p('[data-paginate="nextajax"]').length&&p('[data-paginate="nextajax"]').each(function(){var i=p(this),s=i.find("div.pagination");s.find(".next").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=s.data(),t=a.max_page,o=a.current_page,n=a.scroll;p(this).hasClass("disabled")||(t<=++o&&p(this).addClass("disabled"),1<o&&s.find(".prev").removeClass("disabled"),i.addClass("is-waiting"),a.action="noo_nextajax",a.page=o,p.post(nooJobL10n.ajax_url,a,function(e){s.data("current_page",o),e&&i.find(".nextajax-wrap").html(e),i.hasClass("is-waiting")&&i.removeClass("is-waiting"),p("html, body").animate({scrollTop:p("#"+n).offset().top},2e3)}))}),s.find(".prev").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=s.data(),t=a.max_page,o=a.current_page,n=a.scroll;p(this).hasClass("disabled")||(--o<=1&&p(this).addClass("disabled"),o<=t&&s.find(".next").removeClass("disabled"),a.action="noo_nextajax",a.page=o,p.post(nooJobL10n.ajax_url,a,function(e){s.data("current_page",o),e&&i.find(".nextajax-wrap").html(e),i.hasClass("is-waiting")&&i.removeClass("is-waiting"),p("html, body").animate({scrollTop:p("#"+n).offset().top},2e3)}))})}),p("body").on("click",".resume-resume_nextajax .next",function(e){var a=p(this).parents(".resume-resume_nextajax"),t=a.find(".pagination"),o=t.data("max-page"),n=t.data("posts-per-page"),i=t.data("show"),s=t.data("style"),l=t.data("current-page");return p(this).hasClass("disabled")||(l++,a.addClass("is-waiting"),p.post(nooJobL10n.ajax_url,{action:"noo_resume_nextajax",page:l,posts_per_page:n,show:i,display_style:s},function(e){e&&(a.html(e),t.data("current-page",l),o<=l&&a.find(".next").addClass("disabled"),1<l&&a.find(".prev").removeClass("disabled")),a.hasClass("is-waiting")&&a.removeClass("is-waiting")})),!1}),p("body").on("click",".resume-resume_nextajax .prev",function(e){var a=p(this).parents(".resume-resume_nextajax"),t=a.find(".pagination"),o=t.data("posts-per-page"),n=t.data("show"),i=t.data("style"),s=t.data("current-page");return p(this).hasClass("disabled")||(s--,a.addClass("is-waiting"),p.post(nooJobL10n.ajax_url,{action:"noo_resume_nextajax",page:s,posts_per_page:o,show:n,display_style:i},function(e){e&&(a.html(e),t.data("current-page",s),s<=1?a.find(".prev").addClass("disabled"):p("body").find(".prev").removeClass("disabled")),a.hasClass("is-waiting")&&a.removeClass("is-waiting")})),!1}),p(".form-control-file").find("input[type=file]").bind("change",function(){p(this).closest("label").find(".form-control").prop("value",p(this).val())}),p(".slider_post").css("display","none"),p(".list_slider_1").css("display","block");var t=1;p(".slider .next").click(function(e){e.stopPropagation(),e.preventDefault();var a=p(this).closest(".slider").find(".total-slider").data("total-slider");p(this).closest(".slider").find(".list_slider_"+t).animate({opacity:0},200),p(this).closest(".slider").find(".list_slider_"+t).css("display","none"),a<(t+=1)&&(t=1),p(this).closest(".slider").find(".list_slider_"+t).css("display","block"),p(this).closest(".slider").find(".list_slider_"+t).animate({opacity:1},800)}),p(".slider .prev").click(function(e){e.stopPropagation(),e.preventDefault();var a=p(this).closest(".slider").find(".total-slider").data("total-slider");p(this).closest(".slider").find(".list_slider_"+t).animate({opacity:0},200),p(this).closest(".slider").find(".list_slider_"+t).css("display","none"),0==(t-=1)&&(t=a),p(this).closest(".slider").find(".list_slider_"+t).css("display","block"),p(this).closest(".slider").find(".list_slider_"+t).animate({opacity:1},800)});var o,n,i,s,l=!1;p(".noo-datatable tbody").children().children(".check-column").find(":checkbox").click(function(e){if("undefined"==e.shiftKey)return!0;if(e.shiftKey){if(!l)return!0;o=p(l).closest("form").find(":checkbox"),i=o.index(l),s=o.index(this),n=p(this).prop("checked"),0<i&&0<s&&i!=s&&(i<s?o.slice(i,s):o.slice(s,i)).prop("checked",function(){return!!p(this).closest("tr").is(":visible")&&n})}var a=p(l=this).closest("tbody").find(":checkbox").filter(":visible").not(":checked");return p(this).closest("table").children("thead, tfoot").find(":checkbox").prop("checked",function(){return 0===a.length}),!0}),p(".noo-datatable thead, .noo-datatable  tfoot").find(".check-column :checkbox").on("click.noo-toggle-checkboxes",function(e){var a=p(this),t=a.closest("table"),o=a.prop("checked"),n=e.shiftKey||a.data("wp-toggle");t.children("tbody").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return!p(this).is(":hidden")&&(n?!p(this).prop("checked"):!!o)}),t.children("thead,  tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return!n&&!!o})}),p(".form-control-editor").wysihtml5({"font-styles":!0,blockquote:!0,emphasis:!0,lists:!0,align:!1,html:!0,link:!0,image:!0,stylesheets:[wysihtml5L10n.stylesheet_rtl]});var e,a,r,d=nooJobL10n.date_format?nooJobL10n.date_format:"Y/m/d";if(p(".jform-datepicker").datetimepicker({format:d,timepicker:!1,scrollMonth:!1,scrollTime:!1,scrollInput:!1,step:15,validateOnBlur:!1,onChangeDateTime:function(e,a){a.next(".jform-datepicker_value").length&&a.next(".jform-datepicker_value").val(parseInt(e.getTime()/1e3)-60*e.getTimezoneOffset())}}),p("#closing.jform-datepicker").datetimepicker({format:d,timepicker:!1,scrollMonth:!1,scrollTime:!1,scrollInput:!1,step:15,minDate:0,validateOnBlur:!1,onChangeDateTime:function(e,a){e&&a.next(".jform-datepicker_value").length&&a.next(".jform-datepicker_value").val(parseInt(e.getTime()/1e3)-60*e.getTimezoneOffset())}}),jQuery(".jform-datepicker_start").datetimepicker({format:d,timepicker:!1,scrollMonth:!1,scrollTime:!1,scrollInput:!1,step:15,validateOnBlur:!1,onShow:function(e,a){var t=!!a.siblings(".jform-datepicker_end_value").val()&&a.siblings(".jform-datepicker_end_value").val();t?(t=Date.parseDate(t,"unixtime"))&&this.setOptions({maxDate:t.format0()}):this.setOptions({maxDate:!1})},onChangeDateTime:function(e,a){e&&a.next(".jform-datepicker_start_value").length&&a.next(".jform-datepicker_start_value").val(parseInt(e.getTime()/1e3)-60*e.getTimezoneOffset())}}),jQuery(".jform-datepicker_end").datetimepicker({format:d,timepicker:!1,scrollMonth:!1,scrollTime:!1,scrollInput:!1,step:15,validateOnBlur:!1,onShow:function(e,a){var t=!!a.siblings(".jform-datepicker_start_value").val()&&a.siblings(".jform-datepicker_start_value").val();t?(t=Date.parseDate(t,"unixtime"))&&this.setOptions({minDate:t.format0()}):this.setOptions({minDate:!1})},onChangeDateTime:function(e,a){e&&a.next(".jform-datepicker_end_value").length&&a.next(".jform-datepicker_end_value").val(parseInt(e.getTime()/1e3)-60*e.getTimezoneOffset())}}),p(".jform-datepicker, .jform-datepicker_start, .jform-datepicker_end").change(function(){var e=p(this);""==e.val()&&e.next('input[type="hidden"]').val("")}),p(".job-package").find("button[data-package]").each(function(){var a=p(this);a.click(function(e){a.closest(".job-package").find("input#package").val(a.data("package")),a.closest("form").submit()})}),p.extend(p.validator.messages,{required:nooJobL10n.validate_messages.required,remote:nooJobL10n.validate_messages.remote,email:nooJobL10n.validate_messages.email,url:nooJobL10n.validate_messages.url,date:nooJobL10n.validate_messages.date,dateISO:nooJobL10n.validate_messages.dateISO,number:nooJobL10n.validate_messages.number,digits:nooJobL10n.validate_messages.digits,creditcard:nooJobL10n.validate_messages.creditcard,equalTo:nooJobL10n.validate_messages.equalTo,maxlength:p.validator.format(nooJobL10n.validate_messages.maxlength),minlength:p.validator.format(nooJobL10n.validate_messages.minlength),rangelength:p.validator.format(nooJobL10n.validate_messages.rangelength),range:p.validator.format(nooJobL10n.validate_messages.range),max:p.validator.format(nooJobL10n.validate_messages.max),min:p.validator.format(nooJobL10n.validate_messages.min)}),p.validator.addMethod("uploadimage",function(e,a,t){return t="string"==typeof t?t.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(a)||e.match(new RegExp(".("+t+")$","i"))},nooJobL10n.validate_messages.uploadimage),p.validator.addMethod("uploadcv",function(e,a,t){return t="string"==typeof t?t.replace(/,/g,"|"):"pdf|doc|docx",this.optional(a)||e.match(new RegExp(".("+t+")$","i"))},nooJobL10n.validate_messages.extension),p.validator.addClassRules({"jform-validate":{required:!0},"jform-validate-email":{email:!0},"jform-chosen-validate":{required:!0},"jform-validate-uploadimage":{uploadimage:"png|jpe?g|gif"},"jform-validate-uploadcv":{uploadcv:void 0!==nooJobL10n.file_exts?nooJobL10n.file_exts:"pdf|doc|docx"}}),p("#post_job_form").validate({onkeyup:!1,onfocusout:!1,onclick:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(e,a){a.is(":radio")||a.is(":checkbox")||a.is(":file")?e.appendTo(a.parent().parent()):e.appendTo(a.parent())},rules:{recaptcha_response_field:{required:!0,recaptcha:!0}}}),p("form.jform-validate").each(function(){p(this).validate({onkeyup:!1,onfocusout:!1,onclick:!1,errorClass:"jform-error",validClass:"jform-valid",errorElement:"span",ignore:":hidden:not(.ignore-valid)",errorPlacement:function(e,a){a.is(":radio")||a.is(":checkbox")||a.is(":file")?e.appendTo(a.parent().parent()):e.appendTo(a.parent())}})}),p("body").on("click",".noo-btn-job-alert-form",function(){p("#modalJobAlertForm").modal("show"),p("#modalJobAlertForm").on("shown.bs.modal",function(){p(".form-control-chosen",this).multiselect()})}),p("body").on("click",".noo-btn-save-job-alert",function(){var a=p(this),t=p(".noo-job-alert-form"),o=a.html(),n=t.find(".noo-job-alert-notice");t.block({message:null,overlayCSS:{backgroundColor:"#fafafa",opacity:.5,cursor:"wait"}}),p.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:t.serialize(),beforeSend:function(){a.append('<i class="fa fa-spinner fa-spin"></i>')},success:function(e){a.html(o),t.unblock(),1==e.success?(p(".noo-job-alert-form")[0].reset(),n.addClass("success"),n.removeClass("error")):(n.removeClass("success"),n.addClass("error")),n.html(e.message)},complete:function(){},error:function(){}})}),p(".noo-btn-bookmark").click(function(){if(nooMemberL10n.is_logged){var a=p(this),t=p(this).find(".noo-tool-label"),o=a.hasClass("bookmarked");a.find(".fa").removeClass("fa-heart").addClass("fa-spinner fa-spin"),p.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:"noo_bookmark_job",security:a.attr("data-security"),job_id:a.attr("data-job-id")},success:function(e){a.find(".fa").addClass("fa-heart").removeClass("fa-spinner fa-spin"),1==e.success?(t.text(e.message_text),o?a.removeClass("bookmarked"):a.addClass("bookmarked"),p.notify(e.message,{position:"right bottom",className:"success"})):p.notify(e.message,{position:"right bottom",className:"error"})},complete:function(){},error:function(){}})}else p(".memberModalLogin").modal("show")}),p("body").on("click",".noo-tool-email-job",function(){var e=p(this),a=e.data("id"),t=e.data("title"),o=e.data("url"),n=p("#noo_form_job_id"),i=p("#noo_form_email_content");n.val(a),i.val(t+"\n"+o),p("#modalSendEmailJob").modal("show")}),p("body").on("click",".noo-btn-send-job-email",function(){var a=p(this).closest(".noo-form-email-job-wrap"),e=a.find('input[name="job_id"]'),t=a.find('input[name="friend_name"]'),o=a.find('input[name="friend_email"]'),n=a.find('textarea[name="email_content"]'),i=a.find(".noo-job-mail-notice");i.removeClass("success error"),i.html(""),a.block({message:null,overlayCSS:{backgroundColor:"#fafafa",opacity:.5,cursor:"wait"}}),p.ajax({type:"POST",dataType:"json",url:nooMemberL10n.ajax_url,data:{action:"noo_ajax_job_send_email",security:nooMemberL10n.security,job_id:e.val(),name:t.val(),email:o.val(),content:n.val()},success:function(e){1==e.success?(i.addClass("success"),t.val(""),o.val("")):i.addClass("error"),p.notify(e.message,{position:"right bottom",className:"success"}),a.unblock()},complete:function(){},error:function(){}})}),0<p(".page-member").length){var c=p("#noo-table-job").DataTable({stateSave:!0,responsive:!0,lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"All"]],columnDefs:[{orderable:!1,targets:0}]}),f=p("#noo-table-app").DataTable({responsive:!0,stateSave:!0}),m=(p("#noo-table-viewed-resume").DataTable({responsive:!0,stateSave:!0}),p("#noo-table-follow").DataTable({responsive:!0,stateSave:!0}),p("#noo-table-job-follow").DataTable({responsive:!0,stateSave:!0}),p("#noo-table-shortlist").DataTable({responsive:!0,stateSave:!0}),p("#noo-table-resume").DataTable({responsive:!0,stateSave:!0}),p("#noo-table-job-applied").DataTable({responsive:!0,stateSave:!0}));p("#noo-table-job-alert").DataTable({responsive:!0,stateSave:!0}),p("#noo-table-job-bookmark").DataTable({responsive:!0,stateSave:!0});p("#job_status").change(function(){p.fn.dataTable.ext.search.push(function(e,a,t){var o=p("#job_status option:selected").val(),n=a[7];return"undefined"==o||""==o||n==o}),c.draw()}),p("#application_status").change(function(){p.fn.dataTable.ext.search.push(function(e,a,t){var o=p("#application_status option:selected").val(),n=a[7];return"undefined"==o||""==o||n==o}),f.draw()}),p("#job_applied_status").change(function(){p.fn.dataTable.ext.search.push(function(e,a,t){var o=p("#job_applied_status option:selected").val(),n=a[4];return"undefined"==o||""==o||n==o}),m.draw()}),p("#application_job").change(function(){p.fn.dataTable.ext.search.push(function(e,a,t){var o=p("#application_job option:selected").val(),n=a[2];return"undefined"==o||0==o||n==o}),f.draw()})}p(document).on("click",".noo-shortlist",function(e){e.preventDefault();var a=p(this),t=a.data("resume-id"),o=a.data("user-id"),n=a.data("type"),i=a.html(),s=p("#noo-table-shortlist").DataTable();a.closest("tr").addClass("selected"),p.ajax({url:nooMemberL10n.ajax_url,type:"POST",dataType:"json",data:{action:"noo_shortlist",resume_id:t,user_id:o,type:n},beforeSend:function(){"text"==n?a.append('<i class="fa fa-spinner fa-spin"></i>'):a.html('<i class="fa fa-spinner fa-spin"></i>')},success:function(e){"error"===e.status&&p.notify(e.message,{position:"right bottom",className:"error"}),a.html(i);try{a.html(e.label),s.row(".selected").remove().draw(!1)}catch(e){alert(e)}}})}),p("#apply_via_facebook").click(function(){if("undefined"!=typeof FB)return FB.login(function(e){if(!e.authResponse)return alert("Cancel"),!1;-1!==e.authResponse.grantedScopes.split(",").indexOf("email")?FB.api("/me?fields=name,email",function(e){!e||e.error?alert("msgMissingAppID"):e.email?(p("#fb_candidate_name").val(e.name),p("#fb_candidate_email").val(e.email),p("#fb_candidate_id").val(e.id),p("#applyFacebookModal").modal("show")):alert("msgMissingEmail")}):(alert("msgFBMissingEmail"),FB.api("/me/permissions","DELETE"))},{scope:"email",return_scopes:!0}),!1}),p(".btn-refresh-job").click(function(){var a=p(this),e=a.data("id");a.find(".fa").addClass("fa-spin"),p.ajax({type:"POST",url:nooL10n.ajax_url,data:{action:"noo_ajax_refresh_job",job_id:e},success:function(e){a.find(".fa").removeClass("fa-spin"),p(".btn-refresh-job").attr("title",e.remain).tooltip("fixTitle"),a.tooltip("show"),p.notify(e.message,{position:"right bottom",className:e.status})},error:function(e){}})}),p(".btn-refresh-resume").click(function(){var a=p(this),e=a.data("id");a.find(".fa").addClass("fa-spin"),p.ajax({type:"POST",url:nooL10n.ajax_url,data:{action:"noo_ajax_refresh_resume",resume_id:e},success:function(e){a.find(".fa").removeClass("fa-spin"),p(".btn-refresh-resume").attr("title",e.remain).tooltip("fixTitle"),a.tooltip("show"),p.notify(e.message,{position:"right bottom",className:e.status})},error:function(e){}})}),p(".btn-clone-job").click(function(){var a=p(this),e=a.data("id");a.find(".fa").removeClass("fa-clone"),a.find(".fa").addClass("fa-spin fa-spinner"),p.ajax({type:"POST",url:nooL10n.ajax_url,data:{action:"noo_ajax_clone_job",job_id:e},success:function(e){a.find(".fa").removeClass("fa-spin fa-spinner"),a.find(".fa").addClass("fa-clone"),p.notify(e.message,{position:"right bottom",className:e.status}),window.location=e.url},error:function(e){}})}),p(".btn-clone-resume").click(function(){var a=p(this),e=a.data("id");a.find(".fa").removeClass("fa-clone"),a.find(".fa").addClass("fa-spin fa-spinner"),p.ajax({type:"POST",url:nooL10n.ajax_url,data:{action:"noo_ajax_clone_resume",resume_id:e},success:function(e){a.find(".fa").removeClass("fa-spin fa-spinner"),a.find(".fa").addClass("fa-clone"),p.notify(e.message,{position:"right bottom",className:e.status}),window.location=e.url},error:function(e){}})}),e=p(".noo-mb-job-location"),a=e.data("lat"),r=e.data("lon"),0<e.length&&e.locationpicker({location:{latitude:a,longitude:r},radius:0,zoom:18,inputBinding:{latitudeInput:p(".noo-mb-lat"),longitudeInput:p(".noo-mb-lon"),locationNameInput:p(".noo-mb-location-address")},enableAutocomplete:!0,enableAutocompleteBlur:!0}),p(".noo-review-voted").css("display","none"),p(".reviewed-box-icon").click(function(){p(this).next(".noo-review-voted").toggle(500)})})}(jQuery);